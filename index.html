<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ì¹´ì¹´ì˜¤ ì´ëª¨í‹°ì½˜ ì„¤ë¬¸</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- í•œê¸€ ì›¹í°íŠ¸ -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
    * {
      box-sizing: border-box;
      font-family: "Noto Sans KR", system-ui, -apple-system, BlinkMacSystemFont,
        "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px 12px;
      background: radial-gradient(circle at top, #ffe4f1 0, #f4f7ff 40%, #e5edff 100%);
    }

    .page-shell {
      width: 100%;
      max-width: 980px;
      display: flex;
      justify-content: center;
    }

    .survey-card {
      width: 100%;
      background: #ffffff;
      border-radius: 28px;
      padding: 26px 26px 30px;
      box-shadow: 0 18px 45px rgba(31, 41, 55, 0.16);
      border: 1px solid rgba(148, 163, 255, 0.55);
      position: relative;
    }

    header {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-bottom: 18px;
    }

    .title-area {
      flex: 1;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 11px;
      border-radius: 999px;
      background: #eef2ff;
      color: #4f46e5;
      font-size: 0.72rem;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .badge-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #4f46e5;
    }

    h1 {
      margin: 0 0 4px;
      font-size: 1.5rem;
      font-weight: 700;
      color: #111827;
    }

    .subtitle {
      font-size: 0.9rem;
      color: #6b7280;
      line-height: 1.55;
    }

    hr {
      border: none;
      border-top: 1px solid #e5e7eb;
      margin: 18px 0 20px;
    }

    .session-title {
      margin: 20px 0 8px;
      font-size: 1.05rem;
      font-weight: 700;
      color: #1f2933;
    }

    .session-subtitle {
      font-size: 0.82rem;
      color: #6b7280;
      margin-bottom: 10px;
    }

    /* multi-step */
    .step {
      display: none;
    }
    .step-active {
      display: block;
    }

    /* emoji */
    .sticky-emoji-wrapper {
      position: sticky;
      top: 10px;
      z-index: 20;
      padding-bottom: 14px;
      background: linear-gradient(to bottom, #ffffff 70%, rgba(255,255,255,0));
      margin-bottom: 10px;
    }

    .emoji-top-box {
      width: 140px;
      height: 140px;
      margin: 0 auto;
      background: radial-gradient(circle at 20% 0, #ffe4f1 0, #ffd3ea 30%, #ffecef 100%);
      border: 1px solid rgba(244, 114, 182, 0.45);
      border-radius: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .emoji-top-box img {
      width: 82%;
      height: auto;
      display: block;
    }

    .emoji-inline {
      display: flex;
      justify-content: center;
      margin-bottom: 8px;
    }

    .emoji-inline img {
      width: 80px;
      height: auto;
    }

    .emoji-block {
      margin-bottom: 26px;
    }

    /* ì§ˆë¬¸ ì¹´ë“œ */
    .question-block {
      padding: 16px 18px 18px;
      border-radius: 22px;
      background: linear-gradient(145deg, rgba(238, 242, 255, 0.9), rgba(248, 250, 252, 0.95));
      border: 1px solid rgba(209, 213, 245, 0.9);
      margin-bottom: 14px;
      box-shadow: 0 6px 16px rgba(148, 163, 255, 0.18);
    }

    .question-block.white {
      background: #ffffff;
      box-shadow: 0 4px 10px rgba(148, 163, 255, 0.15);
    }

    .question-title {
      font-size: 0.97rem;
      font-weight: 600;
      color: #111827;
      margin-bottom: 4px;
    }

    .required {
      color: #ef4444;
      margin-left: 4px;
      font-weight: 700;
    }

    .question-desc {
      font-size: 0.8rem;
      color: #6b7280;
      margin-bottom: 10px;
    }

    textarea {
      width: 100%;
      min-height: 72px;
      padding: 9px 10px;
      font-size: 0.9rem;
      border-radius: 12px;
      border: 1px solid #d4d7f0;
      resize: vertical;
      outline: none;
      background: #ffffff;
    }

    textarea:focus {
      border-color: #4f46e5;
      box-shadow: 0 0 0 1px rgba(79, 70, 229, 0.1);
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-top: 2px;
    }

    .option {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 7px 10px;
      border-radius: 999px;
      background: rgba(243, 244, 255, 0.85);
      border: 1px solid transparent;
      font-size: 0.88rem;
      color: #111827;
      cursor: pointer;
      max-width: 100%;
    }

    .option input {
      accent-color: #4f46e5;
    }

    .option:hover {
      border-color: #c7d2fe;
      background: #eef2ff;
    }

    .likert-row {
      display: flex;
      justify-content: space-between;
      gap: 4px;
      margin-top: 4px;
      flex-wrap: nowrap;
    }

    .likert-item {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      font-size: 0.75rem;
      color: #6b7280;
      cursor: pointer;
    }

    .likert-item input {
      display: none;
    }

    .likert-number {
      font-size: 0.72rem;
    }

    .emotion-dot {
      width: 22px;
      height: 22px;
      border-radius: 999px;
      border: 1px solid #c7d2fe;
      background: #ffffff;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.15s ease-out;
      position: relative;
    }

    .emotion-dot::before {
      content: "";
      width: 9px;
      height: 9px;
      border-radius: 999px;
      border: 2px solid transparent;
      transition: all 0.15s ease-out;
    }

    input[type="radio"]:checked + .emotion-dot {
      background: radial-gradient(circle at 30% 0, #f9a8d4 0, #6366f1 45%, #4f46e5 100%);
      border-color: transparent;
      box-shadow: 0 0 0 3px rgba(129, 140, 248, 0.5);
      transform: translateY(-1px);
    }

    input[type="radio"]:checked + .emotion-dot::before {
      background: #ffffff;
    }

    .emotion-dot:hover {
      border-color: #818cf8;
      transform: translateY(-1px);
    }

    .buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
      gap: 8px;
    }

    .buttons-right {
      justify-content: flex-end;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 9px 18px;
      font-weight: 600;
      font-size: 0.9rem;
      cursor: pointer;
    }

    .btn-secondary {
      background: #e5e7eb;
      color: #374151;
    }

    .btn-primary {
      background: linear-gradient(135deg, #4f46e5, #ec4899);
      color: #ffffff;
      box-shadow: 0 12px 24px rgba(79, 70, 229, 0.45);
    }

    .btn-primary:hover {
      filter: brightness(1.05);
      transform: translateY(-1px);
    }

    #thank-you {
      text-align: center;
      padding: 40px 8px 24px;
      display: none;
    }

    #thank-you h2 {
      margin: 0 0 10px;
      font-size: 1.3rem;
    }

    #thank-you p {
      font-size: 0.9rem;
      color: #6b7280;
      line-height: 1.6;
    }

    @media (max-width: 768px) {
      body {
        padding: 18px 10px;
      }

      .survey-card {
        padding: 20px 16px 22px;
        border-radius: 22px;
      }

      h1 {
        font-size: 1.3rem;
      }

      .subtitle {
        font-size: 0.86rem;
      }

      .emoji-top-box {
        width: 120px;
        height: 120px;
      }

      .emotion-dot {
        width: 20px;
        height: 20px;
      }
    }

    @media (max-width: 480px) {
      .survey-card {
        padding: 18px 12px 20px;
      }

      h1 {
        font-size: 1.15rem;
      }
    }
  </style>
</head>
<body>
  <div class="page-shell">
    <div class="survey-card">
      <header>
        <div class="title-area">
          <div class="badge">
            <span class="badge-dot"></span>
            <span>KakaoTalk Â· Emoji Study</span>
          </div>
          <h1>ì¹´ì¹´ì˜¤ ì´ëª¨í‹°ì½˜ ì‚¬ìš© ë° ê°ì • íŒë‹¨ ì„¤ë¬¸</h1>
          <p class="subtitle">
            ì´ ì„¤ë¬¸ì€ ì¹´ì¹´ì˜¤ ì´ëª¨í‹°ì½˜ ì‚¬ìš© ê²½í—˜ê³¼ ì´ëª¨í‹°ì½˜ì´ í‘œí˜„í•˜ëŠ” ê°ì •ì— ëŒ€í•œ íŒë‹¨ì„ ì¡°ì‚¬í•˜ê¸° ìœ„í•œ ê²ƒì…ë‹ˆë‹¤.<br />
            <strong>* í‘œì‹œëœ ë¬¸í•­ì€ í•„ìˆ˜ ì‘ë‹µ</strong>ì…ë‹ˆë‹¤.
          </p>
        </div>
      </header>

      <hr />

      <form id="survey-form">
        <!-- STEP 1: Session 1 -->
        <section id="step1" class="step step-active">
          <div class="session-title">Session 1. ì¸êµ¬í†µê³„ ë° ì¹´ì¹´ì˜¤í†¡ ì‚¬ìš© ê²½í—˜</div>

          <!-- 1-1 ì„±ë³„ -->
          <div class="question-block">
            <div class="question-title">
              1-1. ì„±ë³„ <span class="required">*</span>
            </div>
            <div class="options">
              <label class="option"><input type="radio" name="gender" value="ë‚¨" required /> <span>ë‚¨</span></label>
              <label class="option"><input type="radio" name="gender" value="ì—¬" /> <span>ì—¬</span></label>
              <label class="option"><input type="radio" name="gender" value="ê¸°íƒ€" /> <span>ê¸°íƒ€</span></label>
              <label class="option"><input type="radio" name="gender" value="ì‘ë‹µí•˜ê³  ì‹¶ì§€ ì•ŠìŒ" /> <span>ì‘ë‹µí•˜ê³  ì‹¶ì§€ ì•ŠìŒ</span></label>
            </div>
          </div>

          <!-- 1-2 ì—°ë ¹ëŒ€ -->
          <div class="question-block">
            <div class="question-title">
              1-2. ì—°ë ¹ëŒ€ <span class="required">*</span>
            </div>
            <div class="options">
              <label class="option"><input type="radio" name="age" value="20ëŒ€" required /> <span>20ëŒ€</span></label>
              <label class="option"><input type="radio" name="age" value="30ëŒ€" /> <span>30ëŒ€</span></label>
              <label class="option"><input type="radio" name="age" value="40ëŒ€" /> <span>40ëŒ€</span></label>
              <label class="option"><input type="radio" name="age" value="50ëŒ€" /> <span>50ëŒ€</span></label>
              <label class="option"><input type="radio" name="age" value="60ëŒ€ ì´ìƒ" /> <span>60ëŒ€ ì´ìƒ</span></label>
            </div>
          </div>

          <!-- 1-3 êµ­ì  -->
          <div class="question-block">
            <div class="question-title">
              1-3. êµ­ì  <span class="required">*</span>
            </div>
            <div class="options">
              <label class="option"><input type="radio" name="nationality" value="í•œêµ­" required /> <span>í•œêµ­</span></label>
              <label class="option"><input type="radio" name="nationality" value="ê¸°íƒ€" /> <span>ê¸°íƒ€ (ì§ì ‘ ì…ë ¥)</span></label>
            </div>
            <div class="question-desc">ìœ„ ë¬¸í•­ì—ì„œ â€˜ê¸°íƒ€â€™ë¥¼ ì„ íƒí•œ ê²½ìš°, ì•„ë˜ì— êµ­ì ì„ ì ì–´ ì£¼ì„¸ìš”.</div>
            <textarea name="nationality_other"></textarea>
          </div>

          <!-- 1-4 í•œêµ­ ê±°ì£¼ ê¸°ê°„ -->
          <div class="question-block">
            <div class="question-title">
              1-4. í•œêµ­ ê±°ì£¼ ê¸°ê°„ (ì™¸êµ­ì¸ë§Œ ì‘ë‹µ)
            </div>
            <div class="options">
              <label class="option"><input type="radio" name="kr_stay" value="ì—†ìŒ" /> <span>ì—†ìŒ</span></label>
              <label class="option"><input type="radio" name="kr_stay" value="6ê°œì›” ë¯¸ë§Œ" /> <span>6ê°œì›” ë¯¸ë§Œ</span></label>
              <label class="option"><input type="radio" name="kr_stay" value="6ê°œì›”â€“1ë…„" /> <span>6ê°œì›”â€“1ë…„</span></label>
              <label class="option"><input type="radio" name="kr_stay" value="1â€“3ë…„" /> <span>1â€“3ë…„</span></label>
              <label class="option"><input type="radio" name="kr_stay" value="3ë…„ ì´ìƒ" /> <span>3ë…„ ì´ìƒ</span></label>
            </div>
          </div>

          <!-- 1-5 í•œêµ­ì–´ ëŠ¥ë ¥ -->
          <div class="question-block">
            <div class="question-title">
              1-5. í•œêµ­ì–´ ëŠ¥ë ¥ (ì™¸êµ­ì¸ë§Œ, 1â€“7 ì²™ë„)
            </div>
            <div class="question-desc">ê° ì˜ì—­ë³„ë¡œ ë³¸ì¸ì˜ í•œêµ­ì–´ ëŠ¥ë ¥ì„ í‰ê°€í•´ ì£¼ì„¸ìš”. (1 = ë§¤ìš° ë‚®ìŒ, 7 = ë§¤ìš° ë†’ìŒ)</div>

            <!-- ë§í•˜ê¸° -->
            <div class="question-desc" style="margin-top:4px; margin-bottom:4px;">ë§í•˜ê¸°</div>
            <div class="likert-row">
              <label class="likert-item"><input type="radio" name="ko_speaking" value="1" /><span class="emotion-dot"></span><span class="likert-number">1</span></label>
              <label class="likert-item"><input type="radio" name="ko_speaking" value="2" /><span class="emotion-dot"></span><span class="likert-number">2</span></label>
              <label class="likert-item"><input type="radio" name="ko_speaking" value="3" /><span class="emotion-dot"></span><span class="likert-number">3</span></label>
              <label class="likert-item"><input type="radio" name="ko_speaking" value="4" /><span class="emotion-dot"></span><span class="likert-number">4</span></label>
              <label class="likert-item"><input type="radio" name="ko_speaking" value="5" /><span class="emotion-dot"></span><span class="likert-number">5</span></label>
              <label class="likert-item"><input type="radio" name="ko_speaking" value="6" /><span class="emotion-dot"></span><span class="likert-number">6</span></label>
              <label class="likert-item"><input type="radio" name="ko_speaking" value="7" /><span class="emotion-dot"></span><span class="likert-number">7</span></label>
            </div>

            <!-- ë“£ê¸° -->
            <div class="question-desc" style="margin-top:10px; margin-bottom:4px;">ë“£ê¸°</div>
            <div class="likert-row">
              <label class="likert-item"><input type="radio" name="ko_listening" value="1" /><span class="emotion-dot"></span><span class="likert-number">1</span></label>
              <label class="likert-item"><input type="radio" name="ko_listening" value="2" /><span class="emotion-dot"></span><span class="likert-number">2</span></label>
              <label class="likert-item"><input type="radio" name="ko_listening" value="3" /><span class="emotion-dot"></span><span class="likert-number">3</span></label>
              <label class="likert-item"><input type="radio" name="ko_listening" value="4" /><span class="emotion-dot"></span><span class="likert-number">4</span></label>
              <label class="likert-item"><input type="radio" name="ko_listening" value="5" /><span class="emotion-dot"></span><span class="likert-number">5</span></label>
              <label class="likert-item"><input type="radio" name="ko_listening" value="6" /><span class="emotion-dot"></span><span class="likert-number">6</span></label>
              <label class="likert-item"><input type="radio" name="ko_listening" value="7" /><span class="emotion-dot"></span><span class="likert-number">7</span></label>
            </div>

            <!-- ì½ê¸° -->
            <div class="question-desc" style="margin-top:10px; margin-bottom:4px;">ì½ê¸°</div>
            <div class="likert-row">
              <label class="likert-item"><input type="radio" name="ko_reading" value="1" /><span class="emotion-dot"></span><span class="likert-number">1</span></label>
              <label class="likert-item"><input type="radio" name="ko_reading" value="2" /><span class="emotion-dot"></span><span class="likert-number">2</span></label>
              <label class="likert-item"><input type="radio" name="ko_reading" value="3" /><span class="emotion-dot"></span><span class="likert-number">3</span></label>
              <label class="likert-item"><input type="radio" name="ko_reading" value="4" /><span class="emotion-dot"></span><span class="likert-number">4</span></label>
              <label class="likert-item"><input type="radio" name="ko_reading" value="5" /><span class="emotion-dot"></span><span class="likert-number">5</span></label>
              <label class="likert-item"><input type="radio" name="ko_reading" value="6" /><span class="emotion-dot"></span><span class="likert-number">6</span></label>
              <label class="likert-item"><input type="radio" name="ko_reading" value="7" /><span class="emotion-dot"></span><span class="likert-number">7</span></label>
            </div>

            <!-- ì“°ê¸° -->
            <div class="question-desc" style="margin-top:10px; margin-bottom:4px;">ì“°ê¸°</div>
            <div class="likert-row">
              <label class="likert-item"><input type="radio" name="ko_writing" value="1" /><span class="emotion-dot"></span><span class="likert-number">1</span></label>
              <label class="likert-item"><input type="radio" name="ko_writing" value="2" /><span class="emotion-dot"></span><span class="likert-number">2</span></label>
              <label class="likert-item"><input type="radio" name="ko_writing" value="3" /><span class="emotion-dot"></span><span class="likert-number">3</span></label>
              <label class="likert-item"><input type="radio" name="ko_writing" value="4" /><span class="emotion-dot"></span><span class="likert-number">4</span></label>
              <label class="likert-item"><input type="radio" name="ko_writing" value="5" /><span class="emotion-dot"></span><span class="likert-number">5</span></label>
              <label class="likert-item"><input type="radio" name="ko_writing" value="6" /><span class="emotion-dot"></span><span class="likert-number">6</span></label>
              <label class="likert-item"><input type="radio" name="ko_writing" value="7" /><span class="emotion-dot"></span><span class="likert-number">7</span></label>
            </div>
          </div>

          <!-- 1-6 ì¹´ì¹´ì˜¤í†¡ ì‚¬ìš© ì—¬ë¶€ -->
          <div class="question-block">
            <div class="question-title">
              1-6. ì¹´ì¹´ì˜¤í†¡ ì‚¬ìš© ì—¬ë¶€ <span class="required">*</span>
            </div>
            <div class="options">
              <label class="option"><input type="radio" name="kakao_use" value="ì˜ˆ" required /> <span>ì˜ˆ</span></label>
              <label class="option"><input type="radio" name="kakao_use" value="ì•„ë‹ˆì˜¤" /> <span>ì•„ë‹ˆì˜¤</span></label>
            </div>
          </div>

          <!-- 1-7 ì‚¬ìš© ë¹ˆë„ -->
          <div class="question-block">
            <div class="question-title">
              1-7. ì¹´ì¹´ì˜¤ ì´ëª¨í‹°ì½˜ ì‚¬ìš© ë¹ˆë„ (1â€“7 ì²™ë„) <span class="required">*</span>
            </div>
            <div class="question-desc">1 = ì „í˜€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ ~ 7 = ìì£¼ ì‚¬ìš©í•œë‹¤</div>
            <div class="likert-row">
              <label class="likert-item"><input type="radio" name="emoji_freq" value="1" required /><span class="emotion-dot"></span><span class="likert-number">1</span></label>
              <label class="likert-item"><input type="radio" name="emoji_freq" value="2" /><span class="emotion-dot"></span><span class="likert-number">2</span></label>
              <label class="likert-item"><input type="radio" name="emoji_freq" value="3" /><span class="emotion-dot"></span><span class="likert-number">3</span></label>
              <label class="likert-item"><input type="radio" name="emoji_freq" value="4" /><span class="emotion-dot"></span><span class="likert-number">4</span></label>
              <label class="likert-item"><input type="radio" name="emoji_freq" value="5" /><span class="emotion-dot"></span><span class="likert-number">5</span></label>
              <label class="likert-item"><input type="radio" name="emoji_freq" value="6" /><span class="emotion-dot"></span><span class="likert-number">6</span></label>
              <label class="likert-item"><input type="radio" name="emoji_freq" value="7" /><span class="emotion-dot"></span><span class="likert-number">7</span></label>
            </div>
          </div>

          <!-- 1-8 í•˜ë£¨ í‰ê·  ì‚¬ìš©ëŸ‰ -->
          <div class="question-block">
            <div class="question-title">
              1-8. í•˜ë£¨ í‰ê·  ì´ëª¨í‹°ì½˜ ì‚¬ìš©ëŸ‰ <span class="required">*</span>
            </div>
            <div class="options">
              <label class="option"><input type="radio" name="emoji_amount" value="0â€“2íšŒ" required /> <span>0â€“2íšŒ</span></label>
              <label class="option"><input type="radio" name="emoji_amount" value="3â€“5íšŒ" /> <span>3â€“5íšŒ</span></label>
              <label class="option"><input type="radio" name="emoji_amount" value="6â€“10íšŒ" /> <span>6â€“10íšŒ</span></label>
              <label class="option"><input type="radio" name="emoji_amount" value="10íšŒ ì´ìƒ" /> <span>10íšŒ ì´ìƒ</span></label>
            </div>
          </div>

          <!-- 1-9 ìœ ë£Œ êµ¬ë§¤ ê²½í—˜ -->
          <div class="question-block">
            <div class="question-title">
              1-9. ì¹´ì¹´ì˜¤ ì´ëª¨í‹°ì½˜ì„ ìœ ë£Œë¡œ êµ¬ë§¤í•œ ê²½í—˜ì´ ìˆìŠµë‹ˆê¹Œ? <span class="required">*</span>
            </div>
            <div class="options">
              <label class="option"><input type="radio" name="emoji_paid" value="ì˜ˆ" required /> <span>ì˜ˆ</span></label>
              <label class="option"><input type="radio" name="emoji_paid" value="ì•„ë‹ˆì˜¤" /> <span>ì•„ë‹ˆì˜¤</span></label>
            </div>
          </div>

          <!-- 1-10 ìœ ë£Œ êµ¬ë§¤ ì´ìœ  -->
          <div class="question-block">
            <div class="question-title">
              1-10. ìœ ë£Œ ì´ëª¨í‹°ì½˜ì„ êµ¬ë§¤í•˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”? (1-9ì—ì„œ â€˜ì˜ˆâ€™ ì‘ë‹µìë§Œ)
            </div>
            <div class="question-desc">í•´ë‹¹ë˜ëŠ” ì´ìœ ë¥¼ ëª¨ë‘ ì„ íƒí•´ ì£¼ì„¸ìš”.</div>
            <div class="options">
              <label class="option"><input type="checkbox" name="emoji_paid_reason" value="ê°ì • í‘œí˜„ì„ ë” ì •í™•íˆ í•˜ê¸° ìœ„í•´" /> <span>ê°ì • í‘œí˜„ì„ ë” ì •í™•íˆ í•˜ê¸° ìœ„í•´</span></label>
              <label class="option"><input type="checkbox" name="emoji_paid_reason" value="ìƒëŒ€ì™€ ì¹œë°€ê°ì„ ë†’ì´ê¸° ìœ„í•´" /> <span>ìƒëŒ€ì™€ ì¹œë°€ê°ì„ ë†’ì´ê¸° ìœ„í•´</span></label>
              <label class="option"><input type="checkbox" name="emoji_paid_reason" value="ìºë¦­í„°/ë””ìì¸ì´ ë§ˆìŒì— ë“¤ì–´ì„œ" /> <span>ìºë¦­í„°/ë””ìì¸ì´ ë§ˆìŒì— ë“¤ì–´ì„œ</span></label>
              <label class="option"><input type="checkbox" name="emoji_paid_reason" value="íŠ¹ì • ìƒí™©ì— ë§ì¶° ì‚¬ìš©í•˜ê¸° ìœ„í•´" /> <span>íŠ¹ì • ìƒí™©ì— ë§ì¶° ì‚¬ìš©í•˜ê¸° ìœ„í•´</span></label>
              <label class="option"><input type="checkbox" name="emoji_paid_reason" value="ê¸°íƒ€" /> <span>ê¸°íƒ€</span></label>
            </div>
          </div>

          <div class="buttons buttons-right">
            <button type="button" class="btn btn-primary" id="to-step2">ë‹¤ìŒ â–¶</button>
          </div>
        </section>

        <!-- STEP 2: Session 2 -->
        <section id="step2" class="step">
          <div class="session-title">Session 2. ì´ëª¨í‹°ì½˜ì— ëŒ€í•œ ì£¼ê´€ì  ê°ì •</div>
          <div class="session-subtitle">
            ì•„ë˜ì— ì œì‹œëœ 12ê°œì˜ ì¹´ì¹´ì˜¤ ì´ëª¨í‹°ì½˜ ê°ê°ì— ëŒ€í•´, ì–´ë–¤ ê°ì •ì„ í‘œí˜„í•œë‹¤ê³  ìƒê°í•˜ëŠ”ì§€ ì ì–´ ì£¼ì„¸ìš”.
          </div>

          <div id="session2-emojis"></div>

          <div class="buttons">
            <button type="button" class="btn btn-secondary" id="back-to-step1">â—€ ì´ì „</button>
            <button type="button" class="btn btn-primary" id="to-step3">ë‹¤ìŒ â–¶</button>
          </div>
        </section>

        <!-- STEP 3: Session 3 -->
        <section id="step3" class="step">
          <div class="session-title">Session 3. ì´ëª¨í‹°ì½˜ ê¸°ë³¸ ì •ì„œ íŒë‹¨ ë° ì´í•´ë„</div>
          <div class="session-subtitle">
            Session 2ì—ì„œ ë³´ì‹  ê²ƒê³¼ ë™ì¼í•œ 12ê°œ ì´ëª¨í‹°ì½˜ì— ëŒ€í•´, ê° í•­ëª©ì„ í‰ê°€í•´ ì£¼ì„¸ìš”.<br />
            ì´ëª¨í‹°ì½˜ í•˜ë‚˜ì— ëŒ€í•œ 3-1 ~ 3-8 ë¬¸í•­ì„ ëª¨ë‘ ì‘ë‹µí•œ ë’¤, ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤í•˜ë©´ ë‹¤ìŒ ì´ëª¨í‹°ì½˜ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.
          </div>

          <div id="session3-emojis"></div>

          <div class="buttons">
            <button type="button" class="btn btn-secondary" id="back-to-step2">â—€ ì´ì „</button>
            <button type="submit" class="btn btn-primary">ì‘ë‹µ ì œì¶œí•˜ê¸°</button>
          </div>
        </section>
      </form>

      <div id="thank-you">
        <h2>ì‘ë‹µí•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ˜Š</h2>
        <p>
          ì„¤ë¬¸ ì‘ë‹µì´ ì •ìƒì ìœ¼ë¡œ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.<br />
          (í˜„ì¬ëŠ” í…ŒìŠ¤íŠ¸ ë²„ì „ì´ë¼, ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ Consoleì—ì„œ ì‘ë‹µ ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.)
        </p>
      </div>
    </div>
  </div>

  <script>
    // --- ìœ í‹¸: ë°°ì—´ ì„ê¸° ---
    function shuffle(array) {
      const arr = array.slice();
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    document.addEventListener("DOMContentLoaded", () => {
      // ì´ëª¨í‹°ì½˜ íŒŒì¼ 12ê°œ
      const emojiFiles = [
        "emoji01.png", "emoji02.png", "emoji03.png", "emoji04.png",
        "emoji05.png", "emoji06.png", "emoji07.png", "emoji08.png",
        "emoji09.png", "emoji10.png", "emoji11.png", "emoji12.png"
      ];

      // ëœë¤ ìˆœì„œ í•œ ë²ˆ ì •í•˜ê³  Session2Â·3ì—ì„œ ë™ì¼í•˜ê²Œ ì‚¬ìš©
      const shuffled = shuffle(emojiFiles);

      const s2Container = document.getElementById("session2-emojis");
      const s3Container = document.getElementById("session3-emojis");

      // --- Session 2: 12ê°œ ì´ëª¨í‹°ì½˜ + ì£¼ê´€ì‹ 1ê°œ ---
      shuffled.forEach((file, idx) => {
        const i = idx + 1;
        const block = document.createElement("div");
        block.className = "question-block white";

        block.innerHTML = `
          <div class="emoji-inline">
            <img src="${file}" alt="ì´ëª¨í‹°ì½˜ ${i}" />
          </div>
          <div class="question-title">
            2-${i}. ì´ ì´ëª¨í‹°ì½˜ì€ ì–´ë–¤ ê°ì •ì„ í‘œí˜„í•˜ê³  ìˆë‹¤ê³  ìƒê°í•˜ë‚˜ìš”?
            <span class="required">*</span>
          </div>
          <textarea name="s2_emotion_${i}" required></textarea>
          <input type="hidden" name="s2_emoji_${i}" value="${file}">
        `;
        s2Container.appendChild(block);
      });

      // --- Session 3: ê° ì´ëª¨í‹°ì½˜ë³„ 3-1~3-8 ì„¸íŠ¸ + sticky emoji ---
      shuffled.forEach((file, idx) => {
        const i = idx + 1;
        const wrap = document.createElement("div");
        wrap.className = "emoji-block";

        wrap.innerHTML = `
          <div class="sticky-emoji-wrapper">
            <div class="emoji-top-box">
              <img src="${file}" alt="ì´ëª¨í‹°ì½˜ ${i}" />
            </div>
          </div>

          <!-- 3-1 valence, arousal -->
          <div class="question-block">
            <div class="question-title">
              3-1. (ì´ëª¨í‹°ì½˜ ${i}) ì´ ì´ëª¨í‹°ì½˜ì˜ ì „ë°˜ì ì¸ ëŠë‚Œì„ í‰ê°€í•´ ì£¼ì„¸ìš”.
              <span class="required">*</span>
            </div>
            <div class="question-desc">ê° í•­ëª©ì— ëŒ€í•´ 1~7 ì‚¬ì´ì—ì„œ ì„ íƒí•´ ì£¼ì„¸ìš”.</div>

            <div class="question-desc" style="margin-top:4px; margin-bottom:4px;">
              (1) Valence: ë¶€ì •ì  &lt;â€“&gt; ê¸ì •ì 
            </div>
            <div class="likert-row">
              ${[1,2,3,4,5,6,7].map(v => `
                <label class="likert-item">
                  <input type="radio" name="valence_${i}" value="${v}" ${v===1?'required':''}/>
                  <span class="emotion-dot"></span>
                  <span class="likert-number">${v}</span>
                </label>
              `).join("")}
            </div>

            <div class="question-desc" style="margin-top:10px; margin-bottom:4px;">
              (2) Arousal: ë§¤ìš° ì°¨ë¶„í•¨ &lt;â€“&gt; ë§¤ìš° í¥ë¶„ë¨
            </div>
            <div class="likert-row">
              ${[1,2,3,4,5,6,7].map(v => `
                <label class="likert-item">
                  <input type="radio" name="arousal_${i}" value="${v}" ${v===1?'required':''}/>
                  <span class="emotion-dot"></span>
                  <span class="likert-number">${v}</span>
                </label>
              `).join("")}
            </div>
          </div>

          <!-- 3-2 ì—¬ì„¯ ê°ì • (ê°ê° 1â€“7) -->
          <div class="question-block">
            <div class="question-title">
              3-2. (ì´ëª¨í‹°ì½˜ ${i}) ì´ ì´ëª¨í‹°ì½˜ì´ ë‹¤ìŒ ê°ì •ì„ ì–¼ë§ˆë‚˜ í‘œí˜„í•œë‹¤ê³  ëŠë¼ì‹­ë‹ˆê¹Œ?
              <span class="required">*</span>
            </div>
            <div class="question-desc">1 = ì „í˜€ ëŠê»´ì§€ì§€ ì•ŠëŠ”ë‹¤ ~ 7 = ë§¤ìš° ê°•í•˜ê²Œ ëŠê»´ì§„ë‹¤</div>

            ${["ê¸°ì¨","ìŠ¬í””","í™”ë‚¨","ë†€ë¼ì›€","ë‘ë ¤ì›€","í˜ì˜¤"].map((emo, emoIdx) => `
              <div class="question-desc" style="margin-top:${emoIdx===0? "6":"10"}px; margin-bottom:4px;">${emo}</div>
              <div class="likert-row">
                ${[1,2,3,4,5,6,7].map(v => `
                  <label class="likert-item">
                    <input type="radio" name="${emo}_${i}" value="${v}" ${v===1?'required':''}/>
                    <span class="emotion-dot"></span>
                    <span class="likert-number">${v}</span>
                  </label>
                `).join("")}
              </div>
            `).join("")}
          </div>

          <!-- 3-3 ë³µí•©ê°ì • ì—¬ë¶€ -->
          <div class="question-block">
            <div class="question-title">
              3-3. (ì´ëª¨í‹°ì½˜ ${i}) ì´ ì´ëª¨í‹°ì½˜ì—ì„œ ë‘ ê°€ì§€ ì´ìƒì˜ ê°ì •ì´ ë™ì‹œì— ëŠê»´ì¡Œë‚˜ìš”?
              <span class="required">*</span>
            </div>
            <div class="options">
              <label class="option"><input type="radio" name="multi_emotion_${i}" value="ì˜ˆ" required /> <span>ì˜ˆ</span></label>
              <label class="option"><input type="radio" name="multi_emotion_${i}" value="ì•„ë‹ˆì˜¤" /> <span>ì•„ë‹ˆì˜¤</span></label>
            </div>
          </div>

          <!-- 3-4 íŒë‹¨ ìš”ì†Œ -->
          <div class="question-block">
            <div class="question-title">
              3-4. (ì´ëª¨í‹°ì½˜ ${i}) ì´ ì´ëª¨í‹°ì½˜ì˜ ê°ì •ì„ íŒë‹¨í•˜ëŠ” ë° ì–´ë–¤ ìš”ì†Œê°€ ê°€ì¥ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•˜ì…¨ë‚˜ìš”?
              <span class="required">*</span>
            </div>
            <div class="options">
              <label class="option"><input type="radio" name="key_cue_${i}" value="ëˆˆëª¨ì–‘" required /> <span>ëˆˆëª¨ì–‘</span></label>
              <label class="option"><input type="radio" name="key_cue_${i}" value="ì…ëª¨ì–‘" /> <span>ì…ëª¨ì–‘</span></label>
              <label class="option"><input type="radio" name="key_cue_${i}" value="ëª¸ì§“" /> <span>ëª¸ì§“</span></label>
              <label class="option"><input type="radio" name="key_cue_${i}" value="ì™¸ë¶€ ìš”ì†Œ" /> <span>ì™¸ë¶€ ìš”ì†Œ(ë°°ê²½, ì´í™íŠ¸ ë“±)</span></label>
              <label class="option"><input type="radio" name="key_cue_${i}" value="ê¸°íƒ€" /> <span>ê¸°íƒ€</span></label>
            </div>
          </div>

          <!-- 3-5 ì˜ë¯¸ ì´í•´ ì–´ë ¤ì›€ -->
          <div class="question-block">
            <div class="question-title">
              3-5. (ì´ëª¨í‹°ì½˜ ${i}) ì´ ì´ëª¨í‹°ì½˜ì˜ ì˜ë¯¸ë¥¼ ì´í•´í•˜ëŠ” ë° ì–´ë ¤ì›€ì´ ìˆì—ˆë‚˜ìš”?
              <span class="required">*</span>
            </div>
            <div class="question-desc">1 = ì „í˜€ ì–´ë µì§€ ì•Šì•˜ë‹¤ ~ 7 = ë§¤ìš° ì–´ë ¤ì› ë‹¤</div>
            <div class="likert-row">
              ${[1,2,3,4,5,6,7].map(v => `
                <label class="likert-item">
                  <input type="radio" name="emoji_difficulty_${i}" value="${v}" ${v===1?'required':''}/>
                  <span class="emotion-dot"></span>
                  <span class="likert-number">${v}</span>
                </label>
              `).join("")}
            </div>
          </div>

          <!-- 3-6 ê°ì • ëª…í™•ì„± -->
          <div class="question-block">
            <div class="question-title">
              3-6. (ì´ëª¨í‹°ì½˜ ${i}) ì´ ì´ëª¨í‹°ì½˜ì´ í‘œí˜„í•˜ëŠ” ê°ì •ì´ ëª…í™•í•˜ë‹¤ê³  ëŠë¼ì…¨ë‚˜ìš”?
              <span class="required">*</span>
            </div>
            <div class="question-desc">1 = ì „í˜€ ëª…í™•í•˜ì§€ ì•Šë‹¤ ~ 7 = ë§¤ìš° ëª…í™•í•˜ë‹¤</div>
            <div class="likert-row">
              ${[1,2,3,4,5,6,7].map(v => `
                <label class="likert-item">
                  <input type="radio" name="emoji_clarity_${i}" value="${v}" ${v===1?'required':''}/>
                  <span class="emotion-dot"></span>
                  <span class="likert-number">${v}</span>
                </label>
              `).join("")}
            </div>
          </div>

          <!-- 3-7 ì‚¬ìš© ëŒ€ìƒ (ë³µìˆ˜ ì„ íƒ) -->
          <div class="question-block">
            <div class="question-title">
              3-7. (ì´ëª¨í‹°ì½˜ ${i}) ì´ ì´ëª¨í‹°ì½˜ì„ ëˆ„êµ¬ì—ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ê³  ìƒê°í•˜ë‚˜ìš”? (ë³µìˆ˜ ì„ íƒ ê°€ëŠ¥)
              <span class="required">*</span>
            </div>
            <div class="options">
              <label class="option"><input type="checkbox" name="emoji_target_${i}" value="ë¶€ëª¨ë‹˜" /> <span>ë¶€ëª¨ë‹˜</span></label>
              <label class="option"><input type="checkbox" name="emoji_target_${i}" value="ìœ—ì‚¬ëŒ" /> <span>ìœ—ì‚¬ëŒ(ì§ì¥ ìƒì‚¬/êµìˆ˜ë‹˜ ë“±)</span></label>
              <label class="option"><input type="checkbox" name="emoji_target_${i}" value="ì¹œêµ¬" /> <span>ì¹œêµ¬</span></label>
              <label class="option"><input type="checkbox" name="emoji_target_${i}" value="ì•„ë«ì‚¬ëŒ" /> <span>ì•„ë«ì‚¬ëŒ(í›„ë°°/ë™ìƒ)</span></label>
              <label class="option"><input type="checkbox" name="emoji_target_${i}" value="ëª¨ë¥´ëŠ” ì‚¬ëŒ/ì˜¨ë¼ì¸ ìƒëŒ€" /> <span>ëª¨ë¥´ëŠ” ì‚¬ëŒ/ì˜¨ë¼ì¸ ìƒëŒ€</span></label>
              <label class="option"><input type="checkbox" name="emoji_target_${i}" value="ëˆ„êµ¬ì—ê²Œë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤" /> <span>ëˆ„êµ¬ì—ê²Œë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤</span></label>
            </div>
          </div>

          <!-- 3-8 ìƒí™© -->
          <div class="question-block">
            <div class="question-title">
              3-8. (ì´ëª¨í‹°ì½˜ ${i}) ì´ ì´ëª¨í‹°ì½˜ì„ ê°€ì¥ ì ì ˆí•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìƒí™©ì€ ë¬´ì—‡ì¸ê°€ìš”?
              <span class="required">*</span>
            </div>
            <div class="question-desc">ê°€ì¥ ì˜ ì–´ìš¸ë¦°ë‹¤ê³  ìƒê°í•˜ëŠ” ìƒí™©ì„ í•˜ë‚˜ ì„ íƒí•´ ì£¼ì„¸ìš”.</div>
            <div class="options">
              <label class="option"><input type="radio" name="emoji_situation_${i}" value="ì‹œí—˜ì— í•©ê²©í–ˆì„ ë•Œ" required /> <span>ì‹œí—˜ì— í•©ê²©í–ˆì„ ë•Œ</span></label>
              <label class="option"><input type="radio" name="emoji_situation_${i}" value="êµìˆ˜ë‹˜ê»˜ ì¹­ì°¬ë°›ì•˜ì„ ë•Œ" /> <span>êµìˆ˜ë‹˜ê»˜ ì¹­ì°¬ë°›ì•˜ì„ ë•Œ</span></label>
              <label class="option"><input type="radio" name="emoji_situation_${i}" value="ì—°ì¸ê³¼ í—¤ì–´ì¡Œì„ ë•Œ" /> <span>ì—°ì¸ê³¼ í—¤ì–´ì¡Œì„ ë•Œ</span></label>
              <label class="option"><input type="radio" name="emoji_situation_${i}" value="ì¼ì´ ì˜ ì•ˆ ë˜ì—ˆì„ ë•Œ" /> <span>ì¼ì´ ì˜ ì•ˆ ë˜ì—ˆì„ ë•Œ</span></label>
              <label class="option"><input type="radio" name="emoji_situation_${i}" value="ìƒˆì¹˜ê¸°ë¥¼ ë‹¹í–ˆì„ ë•Œ" /> <span>ìƒˆì¹˜ê¸°ë¥¼ ë‹¹í–ˆì„ ë•Œ</span></label>
              <label class="option"><input type="radio" name="emoji_situation_${i}" value="ê³¼ì œë¥¼ ì‹¤ìˆ˜ë¡œ ì§€ì› ì„ ë•Œ" /> <span>ê³¼ì œë¥¼ ì‹¤ìˆ˜ë¡œ ì§€ì› ì„ ë•Œ</span></label>
              <label class="option"><input type="radio" name="emoji_situation_${i}" value="ê°‘ìê¸° í° ì†Œë¦¬ë¥¼ ë“¤ì—ˆì„ ë•Œ" /> <span>ê°‘ìê¸° í° ì†Œë¦¬ë¥¼ ë“¤ì—ˆì„ ë•Œ</span></label>
              <label class="option"><input type="radio" name="emoji_situation_${i}" value="ë’¤ì—ì„œ ê°‘ìê¸° ë§ ê±¸ì—ˆì„ ë•Œ" /> <span>ë’¤ì—ì„œ ê°‘ìê¸° ë§ ê±¸ì—ˆì„ ë•Œ</span></label>
              <label class="option"><input type="radio" name="emoji_situation_${i}" value="ì¤‘ìš”í•œ ë°œí‘œë¥¼ ì•ë‘ì—ˆì„ ë•Œ" /> <span>ì¤‘ìš”í•œ ë°œí‘œë¥¼ ì•ë‘ì—ˆì„ ë•Œ</span></label>
              <label class="option"><input type="radio" name="emoji_situation_${i}" value="ë°¤ê¸¸ì— ì´ìƒí•œ ì†Œë¦¬ê°€ ë“¤ë ¸ì„ ë•Œ" /> <span>ë°¤ê¸¸ì— ì´ìƒí•œ ì†Œë¦¬ê°€ ë“¤ë ¸ì„ ë•Œ</span></label>
              <label class="option"><input type="radio" name="emoji_situation_${i}" value="ì“°ë ˆê¸° ì•…ì·¨ë¥¼ ë§¡ì•˜ì„ ë•Œ" /> <span>ì“°ë ˆê¸° ì•…ì·¨ë¥¼ ë§¡ì•˜ì„ ë•Œ</span></label>
              <label class="option"><input type="radio" name="emoji_situation_${i}" value="ê³°íŒ¡ì´ í•€ ìŒì‹ì„ ë´¤ì„ ë•Œ" /> <span>ê³°íŒ¡ì´ í•€ ìŒì‹ì„ ë´¤ì„ ë•Œ</span></label>
            </div>
          </div>

          <input type="hidden" name="s3_emoji_${i}" value="${file}">
        `;

        s3Container.appendChild(wrap);
      });

      // --- step navigation ---
      const step1 = document.getElementById("step1");
      const step2 = document.getElementById("step2");
      const step3 = document.getElementById("step3");

      function showStep(stepNum) {
        [step1, step2, step3].forEach((el, idx) => {
          if (idx === stepNum - 1) {
            el.classList.add("step-active");
          } else {
            el.classList.remove("step-active");
          }
        });
        window.scrollTo({ top: 0, behavior: "smooth" });
      }

      document.getElementById("to-step2").addEventListener("click", () => showStep(2));
      document.getElementById("back-to-step1").addEventListener("click", () => showStep(1));
      document.getElementById("to-step3").addEventListener("click", () => showStep(3));
      document.getElementById("back-to-step2").addEventListener("click", () => showStep(2));

      // --- submit handling ---
      const form = document.getElementById("survey-form");
      const thank = document.getElementById("thank-you");

      form.addEventListener("submit", (e) => {
        e.preventDefault();

        const formData = new FormData(form);
        const data = {};
        for (const [key, value] of formData.entries()) {
          if (data[key]) {
            if (!Array.isArray(data[key])) data[key] = [data[key]];
            data[key].push(value);
          } else {
            data[key] = value;
          }
        }

        console.log("ì‘ë‹µ ë°ì´í„°:", data);

        form.style.display = "none";
        thank.style.display = "block";
        window.scrollTo({ top: 0, behavior: "smooth" });
      });
    });
  </script>
</body>
</html>
